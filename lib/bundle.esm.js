function t(t,n,e){if(e||2===arguments.length)for(var o,r=0,i=n.length;r<i;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return t.concat(o||Array.prototype.slice.call(n))}"function"==typeof SuppressedError&&SuppressedError;var n=function(n,e){var o=null===document||void 0===document?void 0:document.getSelection();if(!o)throw new Error("No selection found");o.removeAllRanges(),e.forEach((function(e){var r=e.start,i=e.end,c=function(n,e,o){void 0===e&&(e=0);void 0===o&&(o=0);var r=[],i=function(n){t([],n,!0).forEach((function(t){"#text"===t.nodeName?r.push(t):t.textContent&&i(t.childNodes)}))};i(n.childNodes);var c=null,u=0,a=null,l=0,d=u;if(r.forEach((function(t){if(!c||!a){var n=t.textContent.length,r=[d,d+n];!c&&e>=r[0]&&e<r[1]&&(c=t,u=e-d),!a&&o>r[0]&&o<=r[1]&&(a=t,l=o-r[0]),d+=n}})),!c||!a)return null;return[c,u,a,l]}(n,r,i),u=c[0],a=c[1],l=c[2],d=c[3],f=document.createRange();f.setStart(u,a),f.setEnd(l,d),o.addRange(f)}))};var e=0;function o(){if(document){var t=null===document||void 0===document?void 0:document.getSelection();if(t)return{content:t.toString(),section:t};throw new Error("selection is undefined")}throw new Error("document is undefined")}function r(t,n){var o;if(n&&"theme"in n){var r=null!==(o=n.theme)&&void 0!==o?o:{textColor:"#000",bgColor:"#ff0"};r.textColor,r.bgColor}e=0;var c=document.getSelection(),u=c.getRangeAt(0),a=u.startContainer;console.log("%c [ startNode ]-45","font-size:13px; background:pink; color:#bf2c9f;",a),i(t,a,u.startOffset);var l=e+c.toString().trim().length;return[e,l]}function i(n,o,r){var c=t([],n.childNodes,!0);console.log("%c [ nodes ]-63","font-size:13px; background:pink; color:#bf2c9f;",c),c.some((function(t){if(t.textContent)return t==o?(e+=r,!0):o.parentNode==t?(i(t,o,r),!0):void(e+=t.textContent.length)}))}function c(t,n){for(var e,o=function(t){var n=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};if("string"==typeof t)return new RegExp("".concat(n(t)),"gi");if(Array.isArray(t)){var e=t.map(n);return new RegExp("(".concat(e.join("|"),")"),"gi")}}(n),r=[];null!==(e=o.exec(t));)r.push({keyword:e[0],start:e.index,end:e.index+e[0].length});return r}function u(t){return c(t.text,t.keywords)}export{u as auExtractText,r as getSelectionRange,o as getSelectionRangeContent,n as sectionRangeHighlight};
//# sourceMappingURL=bundle.esm.js.map
