function t(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var e=function(e,n){var r=null===document||void 0===document?void 0:document.getSelection();if(!r)throw new Error("No selection found");r.removeAllRanges(),n.forEach((function(n){var o=n.start,i=n.end,a=function(e,n,r){void 0===n&&(n=0);void 0===r&&(r=0);var o=[],i=function(e){t([],e,!0).forEach((function(t){"#text"===t.nodeName?o.push(t):t.textContent&&i(t.childNodes)}))};i(e.childNodes);var a=null,c=0,u=null,l=0,f=c;if(o.forEach((function(t){if(!a||!u){var e=t.textContent.length,o=[f,f+e];!a&&n>=o[0]&&n<o[1]&&(a=t,c=n-f),!u&&r>o[0]&&r<=o[1]&&(u=t,l=r-o[0]),f+=e}})),!a||!u)return null;return[a,c,u,l]}(e,o,i),c=a[0],u=a[1],l=a[2],f=a[3],d=document.createRange();d.setStart(c,u),d.setEnd(l,f),r.addRange(d)}))};var n=0;function r(t,e){var r;if(e&&"theme"in e){var i=null!==(r=e.theme)&&void 0!==r?r:{textColor:"#000",bgColor:"#ff0"};i.textColor,i.bgColor}n=0;var a=document.getSelection(),c=a.getRangeAt(0);o(t,c.startContainer,c.startOffset);var u=n+a.toString().trim().length;return[n,u]}function o(e,r,i){t([],e.childNodes,!0).some((function(t){if(t.textContent)return t==r?(n+=i,!0):r.parentNode==t?(o(t,r,i),!0):void(n+=t.textContent.length)}))}function i(t,e){for(var n,r=function(t){var e=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};if("string"==typeof t)return new RegExp("".concat(e(t)),"gi");if(Array.isArray(t)){var n=t.map(e);return new RegExp("(".concat(n.join("|"),")"),"gi")}}(e),o=[];null!==(n=r.exec(t));)o.push({keyword:n[0],start:n.index,end:n.index+n[0].length});return o}function a(t){return i(t.text,t.keywords)}export{a as auExtractText,r as getSelectionRange,e as sectionRangeHighlight};
//# sourceMappingURL=bundle.esm.js.map
