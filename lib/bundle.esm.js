function t(t,n,e){if(e||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return t.concat(r||Array.prototype.slice.call(n))}"function"==typeof SuppressedError&&SuppressedError;var n=function(n,e){var r=null===document||void 0===document?void 0:document.getSelection();if(!r)throw new Error("No selection found");r.removeAllRanges(),e.forEach((function(e){var o=e.start,i=e.end,c=function(n,e,r){void 0===e&&(e=0);void 0===r&&(r=0);var o=[],i=function(n){t([],n,!0).forEach((function(t){"#text"===t.nodeName?o.push(t):t.textContent&&i(t.childNodes)}))};i(n.childNodes);var c=null,a=0,u=null,f=0,l=a;if(o.forEach((function(t){if(!c||!u){var n=t.textContent.length,o=[l,l+n];!c&&e>=o[0]&&e<o[1]&&(c=t,a=e-l),!u&&r>o[0]&&r<=o[1]&&(u=t,f=r-o[0]),l+=n}})),!c||!u)return null;return[c,a,u,f]}(n,o,i),a=c[0],u=c[1],f=c[2],l=c[3],d=document.createRange();d.setStart(a,u),d.setEnd(f,l),r.addRange(d)}))};function e(n){var e=document.getSelection(),r=e.getRangeAt(0),o=r.startContainer,i=r.startOffset,c=0,a=function(n){t([],n.childNodes,!0).some((function(t){if(t.textContent)return t==o?(c+=i,!0):o.parentNode==t?(a(t),!0):void(c+=t.textContent.length)}))};a(n);var u=c+e.toString().trim().length;return[c,u]}function r(t,n){for(var e,r=function(t){var n=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};if("string"==typeof t)return new RegExp("".concat(n(t)),"gi");if(Array.isArray(t)){var e=t.map(n);return new RegExp("(".concat(e.join("|"),")"),"gi")}}(n),o=[];null!==(e=r.exec(t));)o.push({keyword:e[0],start:e.index,end:e.index+e[0].length});return o}function o(t){return r(t.text,t.keywords)}export{o as auExtractHighlightText,e as getSelectionRange,n as sectionRange};
//# sourceMappingURL=bundle.esm.js.map
