!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).MyLibrary={})}(this,(function(t){"use strict";function e(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var n=0;function o(t,r,i){e([],t.childNodes,!0).some((function(t){if(t.textContent)return t==r?(n+=i,!0):r.parentNode==t?(o(t,r,i),!0):void(n+=t.textContent.length)}))}function r(t,e){for(var n,o=function(t){var e=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};if("string"==typeof t)return new RegExp("".concat(e(t)),"gi");if(Array.isArray(t)){var n=t.map(e);return new RegExp("(".concat(n.join("|"),")"),"gi")}}(e),r=[];null!==(n=o.exec(t));)r.push({keyword:n[0],start:n.index,end:n.index+n[0].length});return r}t.auExtractText=function(t){return r(t.text,t.keywords)},t.getSelectionRange=function(t,e){var r;if(e&&"theme"in e){var i=null!==(r=e.theme)&&void 0!==r?r:{textColor:"#000",bgColor:"#ff0"};i.textColor,i.bgColor}n=0;var a=document.getSelection(),c=a.getRangeAt(0);o(t,c.startContainer,c.startOffset);var u=n+a.toString().trim().length;return[n,u]},t.sectionRangeHighlight=function(t,n){var o=null===document||void 0===document?void 0:document.getSelection();if(!o)throw new Error("No selection found");o.removeAllRanges(),n.forEach((function(n){var r=n.start,i=n.end,a=function(t,n,o){void 0===n&&(n=0);void 0===o&&(o=0);var r=[],i=function(t){e([],t,!0).forEach((function(t){"#text"===t.nodeName?r.push(t):t.textContent&&i(t.childNodes)}))};i(t.childNodes);var a=null,c=0,u=null,f=0,l=c;if(r.forEach((function(t){if(!a||!u){var e=t.textContent.length,r=[l,l+e];!a&&n>=r[0]&&n<r[1]&&(a=t,c=n-l),!u&&o>r[0]&&o<=r[1]&&(u=t,f=o-r[0]),l+=e}})),!a||!u)return null;return[a,c,u,f]}(t,r,i),c=a[0],u=a[1],f=a[2],l=a[3],d=document.createRange();d.setStart(c,u),d.setEnd(f,l),o.addRange(d)}))}}));
//# sourceMappingURL=bundle.umd.js.map
