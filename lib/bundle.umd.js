!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).MyLibrary={})}(this,(function(e){"use strict";function t(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var n=0;function o(e,r,i){t([],e.childNodes,!0).some((function(e){if(e.textContent)return e==r?(n+=i,!0):r.parentNode==e?(o(e,r,i),!0):void(n+=e.textContent.length)}))}function r(e,t){for(var n,o=function(e){var t=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};if("string"==typeof e)return new RegExp("".concat(t(e)),"gi");if(Array.isArray(e)){var n=e.map(t);return new RegExp("(".concat(n.join("|"),")"),"gi")}}(t),r=[];null!==(n=o.exec(e));)r.push({keyword:n[0],start:n.index,end:n.index+n[0].length});return r}e.auExtractText=function(e){return r(e.text,e.keywords)},e.getSelectionRange=function(e,t){var r;if(t&&"theme"in t){var i=null!==(r=t.theme)&&void 0!==r?r:{textColor:"#000",bgColor:"#ff0"};i.textColor,i.bgColor}n=0;var c=document.getSelection(),u=c.getRangeAt(0);o(e,u.startContainer,u.startOffset);var f=n+c.toString().trim().length;return[n,f]},e.getSelectionRangeContent=function(){if(document){var e=null===document||void 0===document?void 0:document.getSelection();if(e)return{content:e.toString(),section:e};throw new Error("section is undefined")}throw new Error("document is undefined")},e.sectionRangeHighlight=function(e,n){var o=null===document||void 0===document?void 0:document.getSelection();if(!o)throw new Error("No selection found");o.removeAllRanges(),n.forEach((function(n){var r=n.start,i=n.end,c=function(e,n,o){void 0===n&&(n=0);void 0===o&&(o=0);var r=[],i=function(e){t([],e,!0).forEach((function(e){"#text"===e.nodeName?r.push(e):e.textContent&&i(e.childNodes)}))};i(e.childNodes);var c=null,u=0,f=null,a=0,d=u;if(r.forEach((function(e){if(!c||!f){var t=e.textContent.length,r=[d,d+t];!c&&n>=r[0]&&n<r[1]&&(c=e,u=n-d),!f&&o>r[0]&&o<=r[1]&&(f=e,a=o-r[0]),d+=t}})),!c||!f)return null;return[c,u,f,a]}(e,r,i),u=c[0],f=c[1],a=c[2],d=c[3],l=document.createRange();l.setStart(u,f),l.setEnd(a,d),o.addRange(l)}))}}));
//# sourceMappingURL=bundle.umd.js.map
