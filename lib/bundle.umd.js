!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).MyLibrary={})}(this,(function(t){"use strict";function e(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;function n(t,e){for(var n,o=function(t){var e=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};if("string"==typeof t)return new RegExp("".concat(e(t)),"gi");if(Array.isArray(t)){var n=t.map(e);return new RegExp("(".concat(n.join("|"),")"),"gi")}}(e),r=[];null!==(n=o.exec(t));)r.push({keyword:n[0],start:n.index,end:n.index+n[0].length});return r}t.auExtractHighlightText=function(t){return n(t.text,t.keywords)},t.getSelectionRange=function(t){var n=document.getSelection(),o=n.getRangeAt(0),r=o.startContainer,i=o.startOffset,c=0,u=function(t){e([],t.childNodes,!0).some((function(t){if(t.textContent)return t==r?(c+=i,!0):r.parentNode==t?(u(t),!0):void(c+=t.textContent.length)}))};u(t);var a=c+n.toString().trim().length;return[c,a]},t.sectionRange=function(t,n){var o=null===document||void 0===document?void 0:document.getSelection();if(!o)throw new Error("No selection found");o.removeAllRanges(),n.forEach((function(n){var r=n.start,i=n.end,c=function(t,n,o){void 0===n&&(n=0);void 0===o&&(o=0);var r=[],i=function(t){e([],t,!0).forEach((function(t){"#text"===t.nodeName?r.push(t):t.textContent&&i(t.childNodes)}))};i(t.childNodes);var c=null,u=0,a=null,f=0,d=u;if(r.forEach((function(t){if(!c||!a){var e=t.textContent.length,r=[d,d+e];!c&&n>=r[0]&&n<r[1]&&(c=t,u=n-d),!a&&o>r[0]&&o<=r[1]&&(a=t,f=o-r[0]),d+=e}})),!c||!a)return null;return[c,u,a,f]}(t,r,i),u=c[0],a=c[1],f=c[2],d=c[3],l=document.createRange();l.setStart(u,a),l.setEnd(f,d),o.addRange(l)}))}}));
//# sourceMappingURL=bundle.umd.js.map
