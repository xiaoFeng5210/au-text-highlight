"use strict";function t(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var e=0;function n(o,r,i){var c=t([],o.childNodes,!0);console.log("%c [ nodes ]-63","font-size:13px; background:pink; color:#bf2c9f;",c),c.some((function(t){if(t.textContent)return t==r?(e+=i,!0):r.parentNode==t?(n(t,r,i),!0):void(e+=t.textContent.length)}))}function o(t,e){for(var n,o=function(t){var e=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};if("string"==typeof t)return new RegExp("".concat(e(t)),"gi");if(Array.isArray(t)){var n=t.map(e);return new RegExp("(".concat(n.join("|"),")"),"gi")}}(e),r=[];null!==(n=o.exec(t));)r.push({keyword:n[0],start:n.index,end:n.index+n[0].length});return r}exports.auExtractText=function(t){return o(t.text,t.keywords)},exports.getSelectionRange=function(t,o){var r;if(o&&"theme"in o){var i=null!==(r=o.theme)&&void 0!==r?r:{textColor:"#000",bgColor:"#ff0"};i.textColor,i.bgColor}e=0;var c=document.getSelection(),u=c.getRangeAt(0),a=u.startContainer;console.log("%c [ startNode ]-45","font-size:13px; background:pink; color:#bf2c9f;",a),n(t,a,u.startOffset);var l=e+c.toString().trim().length;return[e,l]},exports.getSelectionRangeContent=function(){if(document){var t=null===document||void 0===document?void 0:document.getSelection();if(t)return{content:t.toString(),section:t};throw new Error("selection is undefined")}throw new Error("document is undefined")},exports.sectionRangeHighlight=function(e,n){var o=null===document||void 0===document?void 0:document.getSelection();if(!o)throw new Error("No selection found");o.removeAllRanges(),n.forEach((function(n){var r=n.start,i=n.end,c=function(e,n,o){void 0===n&&(n=0);void 0===o&&(o=0);var r=[],i=function(e){t([],e,!0).forEach((function(t){"#text"===t.nodeName?r.push(t):t.textContent&&i(t.childNodes)}))};i(e.childNodes);var c=null,u=0,a=null,l=0,d=u;if(r.forEach((function(t){if(!c||!a){var e=t.textContent.length,r=[d,d+e];!c&&n>=r[0]&&n<r[1]&&(c=t,u=n-d),!a&&o>r[0]&&o<=r[1]&&(a=t,l=o-r[0]),d+=e}})),!c||!a)return null;return[c,u,a,l]}(e,r,i),u=c[0],a=c[1],l=c[2],d=c[3],f=document.createRange();f.setStart(u,a),f.setEnd(l,d),o.addRange(f)}))};
//# sourceMappingURL=bundle.cjs.js.map
